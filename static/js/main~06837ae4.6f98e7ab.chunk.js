(this.webpackJsonpLoopringExchange=this.webpackJsonpLoopringExchange||[]).push([[0],{1:function(e,t,n){"use strict";var r=n(1287),a=n(0),o=n.n(a);t.a=function(e){var t=e.s;return o.a.createElement(r.a,null,(function(e){return e(t)}))}},1277:function(e,t,n){"use strict";n(144),n(26),n(235),n(122),n(3);var r=n(15),a=(n(79),n(1),n(0),n(14),n(83),n(4));function o(){var e=Object(r.a)(["\n  font-weight: bold;\n  user-select: none;\n  text-transform: uppercase;\n  font-size: 16;\n  color: ",";\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  font-size: 1.125rem;\n  margin-right: ","px;\n  margin-left: ","px;\n  white-space: nowrap;\n"]);return c=function(){return e},e}var i=a.d.div(c(),(function(e){return e.margin||8}),(function(e){return e.margin||8}));Object(a.d)(i)(o(),(function(e){return e.theme.textDim}))},242:function(e,t,n){"use strict";n(298);var r=n(185),a=n(8),o=n(9),c=n(12),i=n(11),s=n(4),l=n(0),u=n.n(l),p=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){try{var n=t.target.value,r=e.props.decimals;"undefined"===typeof r&&(r=100);var a=new RegExp("^-?(0|[1-9][0-9]*)(\\.[0-9]{0,"+r+"})?$");if(!Number.isNaN(n)&&a.test(n)||""===n||"-"===n)e.props.onChange(n);else if(isNaN(n)||-1===n.toString().indexOf("."))if(/^0*$/.test(n))e.props.onChange(n);else if("."===n)e.props.onChange("0.");else{var o=n.replace(/^0+/,"");!Number.isNaN(o)&&a.test(o)&&e.props.onChange(o)}else{var c=parseFloat(n);0===c?e.props.onChange("0"+n.replace(/^0+/,"")):c>0&&e.props.onChange(n)}}catch(i){}},e.onBlur=function(){try{var t=e.props,n=t.value,r=t.onBlur,a=t.onChange;!n||"."!==n.charAt(n.length-1)&&"-"!==n||a(n.slice(0,-1)),r&&r()}catch(o){}},e.defaultOnKeyDown=function(){},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.suffix,a=this.props.fontSize;return a||(a="0.9em"),u.a.createElement(r.a,{autoComplete:"off",value:t,onChange:this.onChange,onClick:this.props.onClick,onBlur:this.onBlur,placeholder:Number(0).toFixed(this.props.decimals),maxLength:25,style:{width:"100%",background:"transparent",color:this.props.color?this.props.color:this.props.theme.textWhite},suffix:u.a.createElement("div",{style:{color:this.props.color?this.props.color:this.props.theme.textWhite,fontSize:a,userSelect:"none",lineHeight:"40px"}},n),onKeyDown:this.props.onKeyDown,disabled:this.props.disabled})}}]),n}(u.a.Component);t.a=Object(s.e)(p)},36:function(e,t,n){"use strict";t.a={innerBorderWidth:"1px",borderWidth:"1px",tradePanelWidth:"260px",orderBookWidth:"260px",tradeHistoryWidth:"225px",sidePadding:"12px",topNavBarHeight:"56px",tickerBarHeight:"45px",mainScreenHeight:"calc(100vh - 56px - 52px)",tradeOrderAndTradeHeight:"calc(50vh - 56px - 52px - 44px)",tradeOrderBaseTableHeightNoPagination:"calc(50vh - 56px - 52px - 44px - 44px)",tradeOrderBaseTableHeight:"calc(50vh - 56px - 52px - 44px - 44px - 32px)",tradeOrderBaseTableScrollYNoPagination:"calc(50vh - 56px - 52px - 44px - 44px - 32px)",tradeOrderBaseTableScrollY:"calc(50vh - 56px - 52px - 44px - 44px - 32px - 32px)",simpleSecondaryPageHeight:"calc(100vh - 56px)",modalWidth:"536px"}},424:function(e,t,n){"use strict";n(144);var r=n(26),a=(n(235),n(122)),o=n(3),c=n(15),i=n(79),s=n(1),l=n(0),u=n.n(l),p=n(14),d=n(83),m=n(4);function h(){var e=Object(c.a)(["\n  font-weight: 400;\n  user-select: none;\n  text-transform: uppercase;\n  font-size: 0.8rem;\n  color: ",";\n"]);return h=function(){return e},e}function f(){var e=Object(c.a)(["\n  font-size: 0.9rem;\n  margin-right: ","px;\n  margin-left: ","px;\n  white-space: nowrap;\n"]);return f=function(){return e},e}var b=m.d.div(f(),(function(e){return e.margin||4}),(function(e){return e.margin||4})),g=Object(m.d)(b)(h(),(function(e){return e.theme.textDim}));t.a=function(e){var t=e.columnBuilders,n=e.rowData,c=e.emptyText,h=e.margin,f=e.loading,y=(Object(l.useContext)(m.a),n||[]),k=t.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{title:u.a.createElement(g,{margin:h},u.a.createElement(s.a,{s:e.label})),dataIndex:"col_"+t})})),E=y.map((function(e,n){var r={key:n};return t.forEach((function(t,n){r["col_"+n]=u.a.createElement(b,{margin:h},t.getColValue(e))})),r}));return u.a.createElement(p.n,null,u.a.createElement(r.a,{renderEmpty:0===E.length&&function(){return u.a.createElement(i.a,{text:c})}},u.a.createElement(d.a,{loading:f},u.a.createElement(a.a,{tableLayout:"auto",dataSource:E,columns:k,pagination:!1}))))}},609:function(e,t,n){"use strict";var r=n(8),a=n(9),o=n(12),c=n(11),i=n(277),s=n(16),l=(n(871),n(872),n(4)),u=n(105),p=n(610),d=n(613),m=n(614),h=n(615),f=n(616),b=n(617),g=n(0),y=n.n(g),k=n(87),E=n(618),O=n(683),w=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return y.a.createElement(k.a.Provider,{value:this.props.userPreferences},y.a.createElement(l.b,{theme:this.props.userPreferences.theme},y.a.createElement(b.a,null),y.a.createElement(d.a,null),y.a.createElement(h.a,null),y.a.createElement(p.a,null),y.a.createElement(m.a,null),y.a.createElement(f.a,null),y.a.createElement(E.a,null),y.a.createElement(g.Suspense,{fallback:null},y.a.createElement(i.a,{history:u.b},O.a))))}}]),n}(y.a.Component);t.a=Object(s.c)((function(e){return{userPreferences:e.userPreferences}}),null)(w)},633:function(e,t,n){"use strict";var r=n(8),a=n(9),o=n(12),c=n(11),i=(n(401),n(163)),s=n(16),l=n(0),u=n.n(l),p=n(4),d=n(36),m=n(1),h=n(20),f=n(634),b=i.a.Content,g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("div",{style:{height:d.a.borderWidth,backgroundColor:this.props.theme.border}}),u.a.createElement(i.a,{hasSider:!0,style:{height:d.a.simpleSecondaryPageHeight}},u.a.createElement(b,{width:"100%",style:{padding:"0",backgroundColor:this.props.theme.foreground,borderLeftStyle:"none"}},u.a.createElement("div",{style:{margin:"auto",fontSize:"0.9rem",fontWeight:"normal",color:this.props.theme.textWhite}},u.a.createElement(h.a,{icon:f.faMobile,style:{display:"block",margin:"auto",marginTop:"35%",marginBottom:"40px",color:this.props.theme.primary},size:"5x"}),u.a.createElement("div",{style:{display:"block",width:"280px",margin:"auto",marginBottom:"40px",color:this.props.theme.textDim}},u.a.createElement("p",{style:{color:this.props.theme.textWhite}},u.a.createElement(m.a,{s:"MobileNotSupportedNotice"})),u.a.createElement("p",null,u.a.createElement(m.a,{s:"MobileAppNotice"})),u.a.createElement("p",null,u.a.createElement(m.a,{s:"Stay tuned!"})))))))}}]),n}(u.a.Component);t.a=Object(p.e)(Object(s.c)((function(e){return{layoutManager:e.layoutManager}}),null)(g))},635:function(e,t,n){"use strict";n(110);var r=n(43),a=n(15),o=n(105),c=n(1),i=n(0),s=n.n(i),l=n(19),u=n(4);function p(){var e=Object(a.a)(["\n  background-color: transparent !important;\n  height: 46px !important;\n  margin-right: 10px !important;\n  margin-left: 10px !important;\n  color: ","!important;\n  border-width: 0 !important;\n  border-style: none !important;\n  font-weight: 600 !important;\n  font-size: 0.9rem !important;\n\n  &:hover {\n    color: ","!important;\n  }\n  &[disabled] {\n    cursor: pointer !important;\n    color: ","!important;\n  }\n"]);return p=function(){return e},e}var d=Object(u.d)(r.a)(p(),(function(e){return e.theme.textDim}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),m=function(e){var t=e.selected,n=e.id,r=e.label,a=e.href;return s.a.createElement(d,{disabled:t===n,onClick:function(){o.b.push(a),a.includes("orders")?Object(l.v)(n):a.includes("account")&&Object(l.u)(n)}},r)};t.a=function(e){var t=e.selected,n=e.subPages,a=Object(i.useContext)(u.a);return s.a.createElement("div",{style:{paddingLeft:"260px",paddingRight:"60px",paddingBottom:"0px",borderWidth:"0px",backgroundColor:a.secondaryNavbarBackground}},s.a.createElement(r.a.Group,{style:{borderRadius:"0px",borderWidth:"0px",paddingBottom:"0px"}},n.map((function(e,n){return s.a.createElement(m,{key:n,selected:t,id:e.id,href:e.url,label:s.a.createElement(c.a,{s:e.label})})}))))}},684:function(e,t,n){"use strict";n(144);var r=n(26),a=n(2),o=n.n(a),c=n(6),i=n(8),s=n(9),l=n(12),u=n(11),p=(n(299),n(80)),d=(n(110),n(43)),m=n(15),h=n(16),f=n(0),b=n.n(f),g=n(4),y=n(36),k=n(1),E=n(105),O=(n(226),n(104)),w=n(10),v=(n(992),n(693)),x=(n(118),n(46)),j=(n(119),n(25)),C=n(20),A=n(644),M=n(641),B=n(645),S=n(640),T=n(639),W=n(643),N=n(642),I=n(197),D=n(214),L=n(87);function K(){var e=Object(m.a)(["\n  font-size: 0.8rem !important;\n  font-weight: 600 !important;\n  border: none !important;\n  background-color: ","!important;\n  margin: 16px 8px;\n  padding: 0;\n  border-radius: 4px;\n  height: 24px;\n  width: 24px;\n  color: ","!important;\n  border: none !important;\n  &[disabled],\n  &:hover {\n    border: none;\n    background-color: ","!important;\n  }\n  &[disabled] {\n    color: ","!important;\n  }\n"]);return K=function(){return e},e}var z=Object(g.d)(d.a)(K(),(function(e){return e.theme.buttonBackground}),(function(e){return e.theme.textBigButton}),(function(e){return e.theme.primary}),(function(e){return e.theme.textBigButton})),P=null,R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).changeLanguage=function(t){"en"!==t&&"zh"!==t||e.props.selectLanguage(t)},e.changeCurrency=function(t){"CNY"!==t&&"USD"!==t||(e.props.updateCmcLegal(t),e.props.selectCurrency(t))},e.selectTheme=function(t){P&&(clearTimeout(P),P=null),e.props.selectTheme(t),"auto"===t&&(P=setTimeout((function(){e.selectTheme("auto")}),18e5))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.theme,n=this.props.userPreferences,r=n.themeName,a=n.language,o=n.currency,c=b.a.createElement("div",{style:{minWidth:"360px"}},b.a.createElement(x.a,{type:"flex",justify:"space-between"},b.a.createElement(j.a,{span:4},b.a.createElement(C.a,{icon:T.faGlobeAsia,style:{width:"24px",height:"24px",color:t.textWhite}})),b.a.createElement(j.a,{span:14},b.a.createElement("div",{style:{fontSize:"1rem",color:t.textWhite}},b.a.createElement(k.a,{s:"Language"})),b.a.createElement("div",{style:{fontSize:"0.85rem",color:t.textDim,margin:"8px 0px"}},b.a.createElement(k.a,{s:"Change the default interface language"}))),b.a.createElement(j.a,{span:2},b.a.createElement(z,{disabled:"en"===a,size:"small",onClick:function(){e.changeLanguage("en")}},"En")),b.a.createElement(j.a,{span:2}),b.a.createElement(j.a,{span:2},b.a.createElement(z,{disabled:"zh"===a,size:"small",onClick:function(){e.changeLanguage("zh")}},"\u4e2d"))),b.a.createElement(x.a,{type:"flex",style:{borderTop:"1px solid "+t.seperator,paddingTop:"12px"},justify:"space-between"},b.a.createElement(j.a,{span:4},b.a.createElement(C.a,{icon:S.faCoins,style:{width:"24px",height:"24px",color:t.textWhite}})),b.a.createElement(j.a,{span:14},b.a.createElement("div",{style:{fontSize:"1rem",color:t.textWhite}},b.a.createElement(k.a,{s:"Currency"})),b.a.createElement("div",{style:{fontSize:"0.85rem",color:t.textDim,margin:"8px 0px"}},b.a.createElement(k.a,{s:"Change the default currency"}))),b.a.createElement(j.a,{span:2},b.a.createElement(z,{style:{width:"36px"},disabled:"USD"===o,size:"small",onClick:function(){e.changeCurrency("USD")}},b.a.createElement(k.a,{s:"USD"}))),b.a.createElement(j.a,{span:4,style:{textAlign:"right"}},b.a.createElement(z,{style:{width:"36px",marginRight:"-2px"},disabled:"CNY"===o,size:"small",onClick:function(){e.changeCurrency("CNY")}},b.a.createElement(k.a,{s:"CNY"})))),b.a.createElement(x.a,{type:"flex",style:{borderTop:"1px solid "+t.seperator,paddingTop:"12px"},justify:"space-between"},b.a.createElement(j.a,{span:4},b.a.createElement(C.a,{icon:M.faBrush,style:{width:"24px",height:"24px",color:t.textWhite}})),b.a.createElement(j.a,{span:14},b.a.createElement("div",{style:{fontSize:"1rem",color:t.textWhite}},b.a.createElement(k.a,{s:"Theme"})),b.a.createElement("div",{style:{fontSize:"0.85rem",color:t.textDim,margin:"8px 0px"}},b.a.createElement(k.a,{s:"Choose between dark and light theme"}))),b.a.createElement(j.a,{span:2},b.a.createElement(z,{disabled:"light"===r,size:"small",icon:b.a.createElement(C.a,{icon:N.faSun}),style:{borderRadius:"50%"},onClick:function(){e.selectTheme("light")}})),b.a.createElement(j.a,{span:2,align:"center"},b.a.createElement(z,{disabled:"dark"===r,size:"small",icon:b.a.createElement(C.a,{icon:W.faMoon}),style:{borderRadius:"50%"},onClick:function(){e.selectTheme("dark")}})),b.a.createElement(j.a,{span:2},b.a.createElement(z,{disabled:"auto"===r,size:"small",icon:b.a.createElement(C.a,{icon:A.faAdjust}),style:{borderRadius:"50%"},onClick:function(){e.selectTheme("auto")}}))));return b.a.createElement(v.a,{placement:"bottomLeft",mouseLeaveDelay:.2,content:c,title:b.a.createElement(k.a,{s:"Settings"}),trigger:"hover",visible:this.props.visible,onVisibleChange:this.props.onVisibleChange},b.a.createElement(C.a,{icon:B.faCog,style:{width:"14px",height:"14px",marginLeft:"32px",marginBottom:"-6px"}}))}}]),n}(b.a.Component),H=Object(L.b)(Object(g.e)(Object(h.c)((function(e){return{pathname:e.router.location.pathname}}),(function(e){return{selectLanguage:function(t){return e(Object(I.e)(t))},selectCurrency:function(t){return e(Object(I.d)(t))},selectTheme:function(t){return e(Object(I.f)(t))},updateCmcLegal:function(t){return e(Object(D.d)(t))}}}))(R))),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isSettingsVisible:!1},e.handleSettingsVisibleChange=function(t){e.setState({isSettingsVisible:t})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.theme;return b.a.createElement("div",{style:{paddingLeft:"4px",fontWeight:700,fontSize:"0.9rem",color:t.textWhite,height:y.a.topNavBarHeight,lineHeight:y.a.topNavBarHeight,userSelect:"none"}},b.a.createElement("div",null,b.a.createElement("img",{src:"assets/images/logo.svg",alt:"Loopring",draggable:"false",style:{width:"100px",height:"auto",marginLeft:"-8px",paddingRight:"8px",paddingBottom:"4px",userSelect:"none"},onClick:function(){e.props.pushToTradePage()}}),b.a.createElement(O.a,{style:{width:"400px"},mouseEnterDelay:2,title:b.a.createElement("div",null,b.a.createElement("div",null,"LAST_COMMIT=","28067c43e1eb69569a047f101b2747b0c6ccf00f"),b.a.createElement("div",null,"DEPLOYED=","7/1/2020, 9:39:35 AM/SH"),b.a.createElement("div",null,"RELAYER=",w.a.getRelayerHost()))},b.a.createElement("span",{style:{fontSize:"0.8rem",fontWeight:400,marginRight:"32px",minWidth:"50px",display:"inline-block",color:t.primary}},b.a.createElement(k.a,{s:this.props.subtitle}))),b.a.createElement("span",{style:{display:this.props.showSettingIcon?"inline-block":"none"}},b.a.createElement(H,{visible:this.state.isSettingsVisible,onVisibleChange:this.handleSettingsVisibleChange}))))}}]),n}(b.a.Component);U.defaultProps={subtitle:"Beta1"};var Y=Object(g.e)(Object(h.c)((function(e){return{pathname:e.router.location.pathname}}),(function(e){return{}}))(U)),_=n(287),F=n(646),G=n(647),V=n(648),X=n(70),q=n(37),J=n(21),Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.dexAccount&&e.dexAccount.account&&this.props.dexAccount&&this.props.dexAccount.account&&this.props.dexAccount.account.accountId&&!1===Object(X.b)(e.dexAccount,this.props.dexAccount)&&this.props.dexAccount.account.apiKey&&this.props.dexAccount.account.state===J.c&&this.props.fetchMyAccountPage(this.props.dexAccount.account.accountId,this.props.dexAccount.account.apiKey,this.props.tokens)}},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(b.a.Component),$=Object(h.c)((function(e){return{dexAccount:e.dexAccount,tokens:e.exchange.tokens}}),(function(e){return{fetchMyAccountPage:function(t,n,r){return e(Object(q.p)(t,n,r))}}}))(Q),Z=n(54),ee=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(this.props.dexAccount.account.apiKey&&this.props.dexAccount.account.state===J.c){var n=this.props.myOrders.showAllOpenOrders?void 0:this.props.currentMarket.current;e.dexAccount.account&&this.props.dexAccount.account&&this.props.dexAccount.account.accountId&&!1===Object(X.b)(e.dexAccount,this.props.dexAccount)&&(this.props.fetchMyOpenOrders(this.props.dexAccount.account.accountId,this.props.myOrders.openOrdersLimit,this.props.myOrders.openOrdersOffset,n,this.props.dexAccount.account.apiKey,this.props.tokens),this.props.fetchMyHistoryOrders(this.props.dexAccount.account.accountId,this.props.myOrders.historyOrdersLimit,this.props.myOrders.historyOrdersOffset,n,this.props.dexAccount.account.apiKey,this.props.tokens));var r=this.props.dexAccount.account,a=r.accountId,o=r.apiKey;e.currentMarket.current!==this.props.currentMarket.current&&(this.props.emptyMyOpenOrders(),this.props.emptyMyHistoryOrders(),this.props.fetchMyOpenOrders(a,this.props.myOrders.openOrdersLimit,0,n,o,this.props.tokens),this.props.fetchMyHistoryOrders(a,this.props.myOrders.historyOrdersLimit,0,n,o,this.props.tokens)),e.myOrders.openOrdersOffset!==this.props.myOrders.openOrdersOffset&&this.props.fetchMyOpenOrders(a,this.props.myOrders.openOrdersLimit,this.props.myOrders.openOrdersOffset,n,o,this.props.tokens),e.myOrders.historyOrdersOffset!==this.props.myOrders.historyOrdersOffset&&this.props.fetchMyHistoryOrders(a,this.props.myOrders.historyOrdersLimit,this.props.myOrders.historyOrdersOffset,n,o,this.props.tokens),e.myOrders.showAllOpenOrders!==this.props.myOrders.showAllOpenOrders&&this.props.fetchMyOpenOrders(a,this.props.myOrders.openOrdersLimit,this.props.myOrders.openOrdersOffset,n,o,this.props.tokens)}}},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(b.a.Component),te=Object(h.c)((function(e){return{dexAccount:e.dexAccount,currentMarket:e.currentMarket,myOrders:e.myOrders,tokens:e.exchange.tokens}}),(function(e){return{fetchMyOpenOrders:function(t,n,r,a,o,c){return e(Object(Z.l)(t,n,r,a,o,c))},fetchMyHistoryOrders:function(t,n,r,a,o,c){return e(Object(Z.k)(t,n,r,a,o,c))},emptyMyHistoryOrders:function(){return e(Object(Z.i)())},emptyMyOpenOrders:function(){return e(Z.j)}}}))(ee),ne=n(3),re=n(19),ae=n(18),oe=n(34),ce=n(358),ie=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.dexAccount.account.state!==this.props.dexAccount.account.state&&this.init(this.props)}},{key:"init",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,i,s,l,u,p,d=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dexAccount,r=t.updateAccount,a=n.account,e.t0=a.state,e.next=e.t0===J.f?5:e.t0===J.e?15:e.t0===J.g?26:e.t0===J.h?28:e.t0===J.c?30:44;break;case 5:return e.prev=5,e.next=8,Object(oe.j)(window.wallet.address);case 8:i=e.sent,r(Object(ne.a)(Object(ne.a)({},i),{},{address:window.wallet.address,keyNonce:i.keyNonce?i.keyNonce:0})),e.next=14;break;case 12:e.prev=12,e.t1=e.catch(5);case 14:return e.abrupt("break",44);case 15:return e.prev=15,e.next=18,Object(oe.j)(window.wallet.address);case 18:(s=e.sent)&&(s.publicKeyX===a.publicKeyX&&s.publicKeyY===a.publicKeyY&&s.accountId===a.accountId&&a.accountKey?s.frozen?r(Object(ne.a)(Object(ne.a)(Object(ne.a)({},a),s),{},{keyNonce:s.keyNonce?s.keyNonce:0,state:J.h})):r(Object(ne.a)(Object(ne.a)(Object(ne.a)({},a),s),{},{keyNonce:s.keyNonce?s.keyNonce:0,state:J.c})):(r(Object(ne.a)(Object(ne.a)({},s),{},{address:window.wallet.address,keyNonce:s.keyNonce?s.keyNonce:0,state:J.f})),this.props.exchange.exchangeId&&this.props.metaMask.isDesiredNetwork&&Object(X.a)()&&this.props.showLoginModal(!0))),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(15),e.t2.message.indexOf("account not found")&&(this.props.exchange.exchangeId&&this.props.metaMask.isDesiredNetwork?this.props.registerAccountModal(!0):this.props.exchange.exchangeId||(this.registerInteval=setInterval((function(){d.props.exchange.exchangeId&&(d.props.metaMask.isDesiredNetwork&&d.props.registerAccountModal(!0),clearInterval(d.registerInteval))}),200)));case 25:return e.abrupt("break",44);case 26:return this.interval=setInterval(Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(oe.j)(window.wallet.address);case 3:(t=e.sent)&&(t.publicKeyX===a.publicKeyX&&t.publicKeyY===a.publicKeyY&&a.accountKey?r(Object(ne.a)(Object(ne.a)({},a),{},{accountId:t.accountId,keyNonce:t.keyNonce?t.keyNonce:0,state:J.c})):r(Object(ne.a)(Object(ne.a)({},a),{},{accountId:t.accountId,keyNonce:t.keyNonce?t.keyNonce:0,state:J.f}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),1e3),e.abrupt("break",44);case 28:return this.lockInterval=setInterval(Object(c.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(oe.j)(window.wallet.address);case 3:t=e.sent,n=Object(re.j)(window.wallet.address),t&&t.publicKeyX===a.publicKeyX&&t.publicKeyY===a.publicKeyY&&!t.frozen?(Object(re.p)(window.wallet.address),r({keyNonce:t.keyNonce?t.keyNonce:0,state:J.f}),clearInterval(d.lockInterval)):!n||n.from.publicKeyX===t.publicKeyX&&n.from.publicKeyY===t.publicKeyY||t.frozen||(Object(re.p)(window.wallet.address),r(Object(ne.a)(Object(ne.a)({},a),{},{accountId:t.accountId,keyNonce:t.keyNonce?t.keyNonce:0,state:J.f})),clearInterval(d.lockInterval)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),1e4),e.abrupt("break",44);case 30:return this.interval&&clearInterval(this.interval),window.wallet=new ce.a(window.wallet.walletType,window.wallet.web3,window.wallet.address,a.accountId,{publicKeyX:a.publicKeyX,publicKeyY:a.publicKeyY,secretKey:a.accountKey}),l=window.wallet.getApiKey(),u={accountId:a.accountId,publicKeyX:a.publicKeyX,publicKeyY:a.publicKeyY},e.prev=34,e.next=37,Object(oe.d)(u,l.signature);case 37:p=e.sent,r(Object(ne.a)(Object(ne.a)({},a),{},{apiKey:p})),e.next=43;break;case 41:e.prev=41,e.t3=e.catch(34);case 43:return e.abrupt("break",44);case 44:case"end":return e.stop()}}),e,this,[[5,12],[15,22],[34,41]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(b.a.Component),se=Object(h.c)((function(e){return{dexAccount:e.dexAccount,exchange:e.exchange,metaMask:e.metaMask}}),(function(e){return{updateAccount:function(t){return e(Object(J.o)(t))},registerAccountModal:function(t){return e(Object(ae.q)(t))},showLoginModal:function(t){return e(Object(ae.p)(t))}}}))(ie),le=n(649),ue=n(650),pe=n(651),de=n(652),me=n(654),he=n(655),fe=n(126),be=n(53),ge=n(103),ye=n(102),ke=n(40),Ee=n(285),Oe=n(217),we=n.n(Oe),ve=n(237),xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){!0===this.props.metaMask.startConnecting&&e.metaMask.startConnecting!==this.props.metaMask.startConnecting&&e.metaMask.referenceCount!==this.props.metaMask.referenceCount&&this.createMetaMaskConnection()}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe((function(e,t){}))}},{key:"createMetaMaskConnection",value:function(){var e=this;Object(c.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new we.a(we.a.givenProvider),window.web3=n,window.ethereum=we.a.givenProvider,t.next=6,window.ethereum.enable();case 6:return window.ethereum.autoRefreshOnNetworkChange=!1,t.next=9,n.eth.getAccounts();case 9:r=t.sent,window.ethereum.accounts=r,window.wallet=new Ee.a("MetaMask",window.web3,r[0]),e.props.updateAccount(Object(ne.a)(Object(ne.a)({},e.props.dexAccount.account),{},{state:J.k})),e.setupSubscribe(),Object(re.B)("MetaMask"),e.props.getDataFromLocalStorage(r[0]),e.props.connectToMetaMaskComplete(),e.props.fetchNonce(window.wallet.address),e.props.fetchGasPrice(),t.next=26;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0),e.props.updateAccount(Object(ne.a)(Object(ne.a)({},e.props.dexAccount.account),{},{state:J.k})),Object(ke.a)(b.a.createElement(k.a,{s:"Failed to connect to MetaMask!"}),e.props.theme);case 26:e.props.connectToMetaMask(!1);case 27:case"end":return t.stop()}}),t,null,[[0,21]])})))()}},{key:"setupSubscribe",value:function(){var e=this;this.subscription=new we.a(window.ethereum).eth.subscribe("newBlockHeaders",(function(e,t){})).on("data",function(e){this.props.metaMask.isDesiredNetwork&&this.props.updateBlockNum(e.number)}.bind(this)),window.ethereum.on("accountsChanged",(function(t){window.wallet&&window.wallet.address&&t.length>0&&window.wallet.address.toLowerCase()!==t[0].toLowerCase()&&(e.props.emptyBalances(),e.props.emptyMyOpenOrders(),e.props.emptyMyHistoryOrders(),e.props.emptyUserTransactions(),e.props.emptyAllOpenOrders(),e.props.emptyAllHistoryOrders(),e.props.emptyDeposits(),e.props.emptyWithdrawals(),e.props.registerAccountModal(!1),e.props.showLoginModal(!1),e.accountChange(t[0].toLowerCase()))})),window.ethereum.on("networkChanged",(function(t){e.props.connectToMetaMask(!0)}))}},{key:"accountChange",value:function(e){try{window.wallet=new Ee.a("MetaMask",window.web3,e),this.props.getDataFromLocalStorage(e),this.props.connectToMetaMask(!0),this.props.fetchNonce(window.wallet.address),this.props.fetchGasPrice()}catch(t){}}},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(f.Component),je=Object(g.e)(Object(h.c)((function(e){return{dexAccount:e.dexAccount,metaMask:e.metaMask,exchange:e.exchange}}),(function(e){return{connectToMetaMask:function(t){return e(Object(fe.d)(t))},connectToMetaMaskComplete:function(){return e(Object(fe.e)())},detectIfMetaMaskInstalled:function(t){return e(Object(fe.f)(t))},updateAccount:function(t){return e(Object(J.o)(t))},getDataFromLocalStorage:function(t){return e(Object(J.m)(t))},fetchNonce:function(t){return e(Object(ye.b)(t))},fetchGasPrice:function(){return e(Object(ge.b)())},emptyBalances:function(){return e(Object(q.l)())},emptyMyOpenOrders:function(){return e(Object(Z.j)())},emptyMyHistoryOrders:function(){return e(Object(Z.i)())},emptyUserTransactions:function(){return e(Object(be.k)())},registerAccountModal:function(t){return e(Object(ae.q)(t))},showLoginModal:function(t){return e(Object(ae.p)(t))},emptyWithdrawals:function(){return e(Object(q.n)())},emptyDeposits:function(){return e(Object(q.m)())},emptyAllOpenOrders:function(){return e(Object(be.j)())},emptyAllHistoryOrders:function(){return e(Object(be.i)())},updateBlockNum:function(t){return e(Object(ve.b)(t))}}}))(xe)),Ce=n(125),Ae=n(658),Me=n.n(Ae),Be=n(428),Se=n.n(Be),Te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).createWalletConnect=function(){Object(c.a)(o.a.mark((function t(){var n,r,a,c,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=["fe378e2b7c4a4a19a33b39eadbcb040b","eaaac3c8409a409f994a728b65d81a1e","7e88216fe37e4b378cf1e72ba7e63df2","a06ed9c6b5424b61beafff27ecc3abf3","3a8799da14724660ab4ca4b62c705b28","833427e71c094c4fa31d42f93fc87ba3","cb6df97bcec24e7dbd67f384e65cf4db"],r=Math.floor(3*Math.random()),a=n[r],c=new Me.a({infuraId:a}),i=!1,c.wc.on("disconnect",(function(t,n){i&&(console.log("disconnect",t,n),e.props.connectToWalletConnectComplete(),Object(ke.a)(b.a.createElement(k.a,{s:"Failed to connect to WalletConnect!"}),e.props.theme),Se.a.close(),e.props.showConnectToWalletModal(!0))})),t.prev=6,i=!0,t.next=10,c.enable();case 10:i=!1,t.next=20;break;case 13:return t.prev=13,t.t0=t.catch(6),i=!1,e.props.connectToWalletConnectComplete(),t.next=19,c.close();case 19:return t.abrupt("return");case 20:s=new we.a(c),window.web3=s,window.ethereum=c,window.wallet=new Ee.a("WalletConnect",window.web3,window.ethereum.accounts[0]),e.props.updateAccount(Object(ne.a)(Object(ne.a)({},e.props.dexAccount.account),{},{state:J.k})),e.setupSubscribe(),Object(re.B)("WalletConnect"),e.props.getDataFromLocalStorage(window.wallet.address),e.props.connectToWalletConnectComplete(),e.props.fetchNonce(window.wallet.address),e.props.fetchGasPrice();case 31:case"end":return t.stop()}}),t,null,[[6,13]])})))()},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){!0===this.props.walletConnect.startConnecting&&e.walletConnect.startConnecting!==this.props.walletConnect.startConnecting&&e.walletConnect.referenceCount!==this.props.walletConnect.referenceCount&&this.createWalletConnect()}},{key:"setupSubscribe",value:function(){var e=this;window.ethereum.on("accountsChanged",(function(t){e.props.connectToWalletConnect(!0)})),window.ethereum.on("chainChanged",(function(t){e.props.connectToWalletConnect(!0)})),window.ethereum.on("networkChanged",(function(t){e.props.connectToWalletConnect(!0)})),window.ethereum.on("open",(function(){console.log("open")})),window.ethereum.on("close",(function(e,t){console.log("WalletConnect",e,t)}))}},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(f.Component),We=Object(g.e)(Object(h.c)((function(e){return{dexAccount:e.dexAccount,walletConnect:e.walletConnect,exchange:e.exchange}}),(function(e){return{connectToWalletConnect:function(t){return e(Object(Ce.c)(t))},connectToWalletConnectComplete:function(){return e(Object(Ce.d)())},showConnectToWalletModal:function(t){return e(Object(ae.s)(t))},updateAccount:function(t){return e(Object(J.o)(t))},getDataFromLocalStorage:function(t){return e(Object(J.m)(t))},fetchNonce:function(t){return e(Object(ye.b)(t))},fetchGasPrice:function(){return e(Object(ge.b)())},emptyBalances:function(){return e(Object(q.l)())},emptyMyOpenOrders:function(){return e(Object(Z.j)())},emptyMyHistoryOrders:function(){return e(Object(Z.i)())},emptyUserTransactions:function(){return e(Object(be.k)())},registerAccountModal:function(t){return e(Object(ae.q)(t))},showLoginModal:function(t){return e(Object(ae.p)(t))},emptyWithdrawals:function(){return e(Object(q.n)())},emptyDeposits:function(){return e(Object(q.m)())},emptyAllOpenOrders:function(){return e(Object(be.j)())},emptyAllHistoryOrders:function(){return e(Object(be.i)())},updateBlockNum:function(t){return e(Object(ve.b)(t))}}}))(Te)),Ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(re.k)();if("MetaMask"===e)this.props.connectToMetaMask(!0);else if("WalletConnect"===e)this.props.connectToWalletConnect(!0);else{var t=window.location.href;(t.includes("trade")||t.includes("orders")||t.includes("account"))&&this.props.showConnectToWalletModal(!0)}}},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(f.Component),Ie=Object(g.e)(Object(h.c)((function(e){return{}}),(function(e){return{showConnectToWalletModal:function(t){return e(Object(ae.s)(t))},connectToMetaMask:function(t){return e(Object(fe.d)(t))},connectToWalletConnect:function(t){return e(Object(Ce.c)(t))}}}))(Ne)),De=n(659),Le=n(660),Ke=n(661),ze=n(76),Pe=n(167),Re=n(198),He=n(280),Ue=n(288),Ye=n(357),_e=n(151),Fe=w.a.getWsServer(),Ge=null,Ve=[],Xe=0,qe=!1,Je=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e}return Object(s.a)(n,[{key:"setupAfterExchangeInitialized",value:function(){var e=this;this.setSubscription(),this.interval=setInterval((function(){(Ve=Ve.filter((function(t){return t.market===e.props.market.currentMarket.current.toUpperCase()})).map((function(e){return delete e.market,e}))).length>0&&(e.props.extendTrades(Ve),Ve=[]),Ge&&Ge.market===e.props.market.currentMarket.current.toUpperCase()&&(delete Ge.market,e.props.updateTicker(Ge),Ge=null)}),500)}},{key:"componentDidUpdate",value:function(e,t){if(e.exchange.isInitialized!==this.props.exchange.isInitialized&&this.setupAfterExchangeInitialized(),this.props.exchange.isInitialized){var n=this.props.market.currentMarket.current,r=this.props.market.orderBook;if(e.market.currentMarket.current!==this.props.market.currentMarket.current){this.props.emptyTrades(),this.props.emptyOrderBooks(0);var a=this.getTradeArg(n),o=this.getTickerArg(n),c=[a,this.getDepthArg(n,r.level),o];this.props.fetchTradeHistory(n),this.props.fetchOrderBooks(n,r.level,this.props.exchange.tokens),Ge=null,Ve=[],this.sub(c)}else if(e.market.orderBook.level!==this.props.market.orderBook.level){this.props.emptyOrderBooks(this.props.market.orderBook.level),this.props.fetchOrderBooks(n,r.level,this.props.exchange.tokens);var i=this.getDepthArg(this.props.market.currentMarket.current,this.props.market.orderBook.level);this.sub([i])}if((e.market.currentMarket.current!==this.props.market.currentMarket.current||e.myOrders.showAllOpenOrders!==this.props.myOrders.showAllOpenOrders)&&this.props.account.state===J.c&&this.props.account.apiKey){var s=(this.props.myOrders.showAllOpenOrders,this.getOrderArg(this.props.market.currentMarket.current));this.sub([s],this.props.account.apiKey)}if(e.account.state===this.props.account.state&&this.props.account.apiKey===e.account.apiKey||this.props.account.state!==J.c||!this.props.account.apiKey||this.setSubscription(),e.pathname!==this.props.pathname)try{e.pathname.split("/")[1]!==this.props.pathname.split("/")[1]&&this.setSubscription()}catch(l){}}}},{key:"componentWillUnmount",value:function(){this.ws&&(this.ws.close(),clearInterval(this.interval),clearInterval(this.connectionListener))}},{key:"setSubscription",value:function(){var e=[],t=[];if(this.props.pathname.includes("trade")){var n=this.props.market.currentMarket.current,r=this.props.market.orderBook;this.props.fetchTradeHistory(n),this.props.fetchOrderBooks(n,r.level,this.props.exchange.tokens);var a=this.getTradeArg(n),o=this.getTickerArg(n);e=[a,this.getDepthArg(n,r.level),o]}if(this.props.pathname.includes("trade")||this.props.pathname.includes("orders")){var c=this.props.market.currentMarket.current;if(this.props.account.state===J.c&&this.props.account.apiKey){this.props.fetchMyOpenOrders(this.props.account.accountId,this.props.myOrders.openOrdersLimit,this.props.myOrders.openOrdersOffset,this.props.myOrders.showAllOpenOrders?void 0:c,this.props.account.apiKey,this.props.exchange.tokens),this.props.fetchMyHistoryOrders(this.props.account.accountId,this.props.myOrders.historyOrdersLimit,this.props.myOrders.historyOrdersOffset,this.props.myOrders.showAllOpenOrders?void 0:c,this.props.account.apiKey,this.props.exchange.tokens);var i=this.getOrderArg(c);t.push(i)}}if(this.props.account.state===J.c&&this.props.account.apiKey){this.props.fetchMyAccountPage(this.props.account.accountId,this.props.account.apiKey,this.props.exchange.tokens);var s=this.getAccountArg();t.push(s)}Ge=null,Ve=[],qe?this.setup([].concat(Object(ze.a)(e),t),this.props.account.apiKey):this.sub([].concat(Object(ze.a)(e),t),this.props.account.apiKey)}},{key:"setupSocketConnectionListener",value:function(){var e=this;this.connectionListener&&clearInterval(this.connectionListener),this.connectionListener=setInterval((function(){Xe>=50?(Xe=0,clearInterval(e.connectionListener),e.setSubscription()):Xe+=1}),1e4)}},{key:"setup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.ws)try{this.ws.close()}catch(r){}this.ws=new WebSocket(Fe),this.ws.onopen=function(){if(t.length>0){var a={op:"sub",topics:t};n&&(a.apiKey=n,qe=!0),e.setupSocketConnectionListener();try{e.ws.send(JSON.stringify(a))}catch(r){console.log(r)}}},this.ws.onerror=function(r){Object(c.a)(o.a.mark((function r(){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.sleep(1e4);case 2:e.setup(t,n);case 3:case"end":return r.stop()}}),r)})))()},this.ws.onmessage=function(t){if("ping"===t.data)try{Xe=0,e.ws.send("pong")}catch(n){}else e.parseData(t)},this.ws.onclose=function(){}}},{key:"getTradeArg",value:function(e){return{topic:"trade",market:e}}},{key:"getDepthArg",value:function(e,t){return{topic:"orderbook",market:e,level:t}}},{key:"getTickerArg",value:function(e){return{topic:"ticker",market:e}}},{key:"getAccountArg",value:function(){return{topic:"account"}}},{key:"getOrderArg",value:function(e){return{topic:"order",market:e}}},{key:"getUnsub",value:function(e){return{topic:e,unsubscribeAll:!0}}},{key:"parseData",value:function(e){var t=this,n=JSON.parse(e.data),r=n.topic;if(r){var a=r.topic.toLowerCase(),o=n.data;switch(a){case"account":if(this.props.account.state===J.c&&this.props.account.accountId===o.accountId){var c=Object(Ye.b)([o],this.props.exchange.tokens);this.props.updateBalance(c[0])}break;case"trade":var i=o.map((function(e){var t=Object(oe.c)(e);return{market:r.market.toUpperCase(),timestamp:t.timestamp,side:t.side,size:t.size,price:Number(t.price),fee:t.fee}}));Ve=i.concat(Ve).slice(0,80);break;case"ticker":var s=Object(oe.b)(o);Ge={market:r.market.toUpperCase(),high:s.high,low:s.low,size:w.a.fromWEI(this.props.market.currentMarket.baseTokenSymbol,s.size,this.props.exchange.tokens),volume:w.a.fromWEI(this.props.market.currentMarket.quoteTokenSymbol,s.volume,this.props.exchange.tokens),open:s.open,close:s.close};break;case"orderbook":var l=r.market.toUpperCase();if(l===this.props.market.currentMarket.current.toUpperCase()){var u=n.startVersion;if(u<=this.props.market.orderBook.version+1){var p=n.endVersion,d=o.asks.map((function(e){var n=Object(Ue.a)(e);return Object(ne.a)(Object(ne.a)({},n),{},{sizeInNumber:w.a.fromWEI(t.props.market.currentMarket.baseTokenSymbol,n.size,t.props.exchange.tokens)})})),m=o.bids.map((function(e){var n=Object(Ue.a)(e);return Object(ne.a)(Object(ne.a)({},n),{},{sizeInNumber:w.a.fromWEI(t.props.market.currentMarket.baseTokenSymbol,n.size,t.props.exchange.tokens)})}));this.props.updateSocketOrderBooks(d,m,u,p,l,this.props.exchange.tokens)}else this.props.fetchOrderBooks(this.props.market.currentMarket.current,this.props.market.orderBook.level,this.props.exchange.tokens)}break;case"order":if(this.props.account.state===J.c){var h=Object(_e.c)([o],this.props.exchange.tokens)[0];r.market.toUpperCase()===this.props.market.currentMarket.current.toUpperCase()&&this.props.updateSocketOrder(h),this.props.updateSocketAllOrder(h)}}}}},{key:"sub",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.ws){var r={op:"unsub",topics:e.map((function(e){return{topic:e.topic,unsubscribeAll:!0}}))},a={op:"sub",topics:e};n&&(r.apiKey=n,a.apiKey=n,qe=!0),1===this.ws.readyState?(this.ws.send(JSON.stringify(r)),this.ws.send(JSON.stringify(a))):setTimeout((function(){return t.sub(e,n)}),500)}else this.setup(e,n)}},{key:"render",value:function(){return b.a.createElement("div",null)}}]),n}(f.Component),Qe=Object(h.c)((function(e){var t=e.router.location.pathname,n=e.market,r=e.dexAccount,a=e.exchange,o=e.myOrders;return{market:n,account:r.account,exchange:a,myOrders:o,pathname:t}}),(function(e){return{extendTrades:function(t){return e(Object(Re.e)(t))},fetchTradeHistory:function(t){return e(Object(Re.f)(t))},updateBalance:function(t){return e(Object(q.s)(t))},updateTicker:function(t){return e(Object(He.c)(t))},fetchOrderBooks:function(t,n,r){return e(Object(Pe.f)(t,n,r))},updateSocketOrderBooks:function(t,n,r,a,o,c){return e(Object(Pe.g)(t,n,r,a,o,c))},updateSocketOrder:function(t){return e(Object(Z.m)(t))},updateSocketAllOrder:function(t){return e(Object(be.p)(t))},emptyTrades:function(){return e(Object(Re.d)())},emptyOrderBooks:function(t){return e(Object(Pe.e)(t))},fetchMyAccountPage:function(t,n,r){return e(Object(q.p)(t,n,r))},fetchMyOpenOrders:function(t,n,r,a,o,c){return e(Object(Z.l)(t,n,r,a,o,c))},fetchMyHistoryOrders:function(t,n,r,a,o,c){return e(Object(Z.k)(t,n,r,a,o,c))}}}))(Je),$e=n(662),Ze=n(14),et=(n(528),n(250)),tt=n(362),nt=n(441),rt=n(66),at=n(677),ot=n(341),ct=n(290),it=n(440),st=n(676),lt=n(361),ut=n(675),pt=n(439),dt=n(678),mt=n(363),ht=n(71),ft=function(e){e.icon,e.spin;var t=e.title,n=(e.color,e.backgroundcolor,e.onMouseEnter);Object(f.useContext)(g.a);return b.a.createElement("button",{onMouseEnter:n,type:"button",className:"btn btn-lg btn-outline-primary text-white"},t)},bt=n(663),gt=n.n(bt),yt=n(243);function kt(){var e=Object(m.a)(["\n  border-radius: 50%;\n  width: 36px !important;\n  height: 36px !important;\n  border: 2px solid ",";\n"]);return kt=function(){return e},e}var Et=Object(g.d)(gt.a)(kt(),(function(e){return e.theme.textWhite})),Ot=function(e){var t=e.fullAddress,n=e.address,r=Object(f.useContext)(g.a);return b.a.createElement(O.a,{title:b.a.createElement(yt.CopyToClipboard,{text:t},b.a.createElement("div",{style:{cursor:"pointer",textAlign:"center"}},b.a.createElement("div",{style:{fontSize:"0.9rem",fontWeight:"600",width:"152px"}},t),b.a.createElement("div",{style:{paddingTop:"8px",fontSize:"0.8rem"}},b.a.createElement(k.a,{s:"Click to copy"})))),mouseEnterDelay:1},b.a.createElement(yt.CopyToClipboard,{text:t},b.a.createElement("div",{style:{display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",height:y.a.topNavBarHeight}},b.a.createElement(Et,{seed:t}),b.a.createElement("span",{style:{marginLeft:"12px",userSelect:"none",color:r.textWhite,fontSize:"0.9rem",fontWeight:"600"}},n))))},wt=(n(1275),n(664)),vt=(n(401),n(163));function xt(){var e=Object(m.a)(["\n  margin-left: 0;\n  margin-right: 4px;\n  min-width: 24px;\n  text-align: center;\n  display: inline-block\uff1b\n  opacity: 0.85;\n"]);return xt=function(){return e},e}function jt(){var e=Object(m.a)(["\n  background-color: transparent !important;\n  font-size: 0.95rem !important;\n  border: none !important;\n  width: 100% !important;\n  text-align: left !important;\n  padding: inherit 24px !important;\n  border-radius: 0 !important;\n  height: 40px !important;\n  line-height: 1rem !important;\n  color: ","!important;\n\n  &:hover {\n    background: ","!important;\n    color: ","!important;\n  }\n\n  &[disabled],\n  &[disabled]:hover {\n    background-color: transparent !important;\n    color: ","!important;\n  }\n"]);return jt=function(){return e},e}function Ct(){var e=Object(m.a)(["\n  color: ",";\n  height: 1px;\n  background: ",";\n  margin-top: 12px;\n  margin-bottom: 12px;\n  width: 100%;\n"]);return Ct=function(){return e},e}function At(){var e=Object(m.a)(["\n  color: ",";\n  font-size: 0.85rem;\n  font-weight: 600;\n  padding-left: 20px;\n  margin-top: 12px;\n  margin-bottom: 8px;\n"]);return At=function(){return e},e}var Mt=vt.a.Content,Bt=g.d.div(At(),(function(e){return e.theme.textDim})),St=g.d.div(Ct(),(function(e){return e.theme.textDim}),(function(e){return e.theme.seperator})),Tt=Object(g.d)(d.a)(jt(),(function(e){return e.colortxt?e.colortxt:e.theme.textSidebarMenu}),(function(e){return e.hoverbg?e.hoverbg:e.theme.primary}),(function(e){return e.theme.textBigButton}),(function(e){return e.theme.inputPlaceHolderColor})),Wt=Object(g.d)(C.a)(xt()),Nt=function(e){var t=e.header,n=e.body,r=(e.footer,e.onClose),a=e.visible,o=Object(f.useContext)(g.a);return b.a.createElement(wt.a,{width:241,placement:"right",closable:!1,onClose:r,visible:a,drawerStyle:{fontSize:"0.85rem",background:o.sidePanelBackground},bodyStyle:{padding:"0"},headerStyle:{height:0}},b.a.createElement(vt.a,{onMouseLeave:r,style:{background:"transparent",height:"100vh"}},b.a.createElement("div",{style:{background:o.popupHeaderBackground,textAlign:"center",width:"100%",height:y.a.topNavBarHeight,lineHeight:y.a.topNavBarHeight}},t),b.a.createElement(Mt,null,n)))},It=n(669),Dt=n(668),Lt=n(670),Kt=n(665),zt=n(671),Pt=n(340),Rt=n(672),Ht=n(667),Ut=n(666),Yt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.userPreferences;return b.a.createElement("div",null,b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"LRC"})),b.a.createElement(Tt,{key:"staking",onClick:function(){return window.open("https://staking.loopring.org","_blank")}},b.a.createElement(Wt,{icon:Kt.faMagnet}),b.a.createElement(k.a,{s:"Staking"})),b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuSupportGroup"})),b.a.createElement(Tt,{key:"faq",onClick:function(){window.open("https://medium.com/loopring-protocol/loopring-exchange-faq-196d6c40f6cf","_blank")}},b.a.createElement(Wt,{icon:Pt.faQuestionCircle}),b.a.createElement(k.a,{s:"FAQ"})),b.a.createElement(Tt,{key:"wechat",onClick:function(){e.props.showSideBar(!1),e.props.showWechatModal(!0)}},b.a.createElement(Wt,{icon:Ut.faWeixin}),b.a.createElement(k.a,{s:"WeChat"})),b.a.createElement(Tt,{key:"telegram",onClick:function(){"zh"===t.language?window.open("https://t.me/loopringfans","_blank"):window.open("https://t.me/loopring_en","_blank")}},b.a.createElement(Wt,{icon:Ht.faTelegram}),b.a.createElement(k.a,{s:"Telegram"})),b.a.createElement(Tt,{key:"discord",onClick:function(){window.open("https://discordapp.com/invite/KkYccYp","_blank")}},b.a.createElement(Wt,{icon:Dt.faDiscord}),b.a.createElement(k.a,{s:"Discord"})),b.a.createElement(Tt,{key:"bug",onClick:function(){window.open("https://github.com/Loopring/dexwebapp/issues/new","_blank")}},b.a.createElement(Wt,{icon:It.faBug}),b.a.createElement(k.a,{s:"Bug Report"})),b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuTechnicalResourcesGroup"})),b.a.createElement(Tt,{key:"api",onClick:function(){"zh"===t.language?window.open("https://docs.loopring.io/zh-hans/","_blank"):window.open("https://docs.loopring.io/en/","_blank")}},b.a.createElement(Wt,{icon:Lt.faFile}),b.a.createElement(k.a,{s:"Exchange API"})),b.a.createElement(Tt,{key:"dexcongtract",onClick:function(){var t=1===e.props.chainId?"loopringio.eth":e.props.exchangeAddres;window.open("".concat(Object(re.c)(e.props.chainId),"/address/").concat(t),"_blank")}},b.a.createElement(Wt,{icon:zt.faPencilRuler}),b.a.createElement(k.a,{s:"DEX Smart Contract (Beta1)"})),b.a.createElement(Tt,{key:"loopring",onClick:function(){return window.open("https://loopring.org","_blank")}},b.a.createElement(Wt,{icon:Rt.faRulerCombined}),b.a.createElement(k.a,{s:"Loopring Protocol"})))}}]),n}(b.a.Component),_t=Object(L.b)(Object(g.e)(Object(h.c)((function(e){var t=e.exchange;return{chainId:t.chainId,exchangeAddress:t.exchangeAddres}}),(function(e){return{showSideBar:function(t){return e(Object(ae.z)(t))},showWechatModal:function(t){return e(Object(ae.B)(t))}}}))(Yt))),Ft=n(673),Gt=n(674),Vt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).pressedReconnectWalletConnectButton=function(){Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("pressedReconnectWalletConnectButton"),t.prev=1,t.next=4,window.ethereum.close();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:return t.prev=9,e.props.connectToWalletConnect(!0),e.props.showSideBar(!1),t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[1,6,9,13]])})))()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return b.a.createElement("div",null,b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuMyEthAccount"})),b.a.createElement(Tt,{key:"myaddress",onClick:function(){window.open("".concat(Object(re.c)(e.props.chainId),"/address/").concat(e.props.dexAccount.account.address))}},b.a.createElement(Wt,{icon:Ft.faExternalLinkSquareAlt}),b.a.createElement(k.a,{s:"Show on Etherscan"})),"WalletConnect"!==Object(re.k)()?b.a.createElement("div",null):b.a.createElement(Tt,{key:"reconnect",onClick:function(){e.pressedReconnectWalletConnectButton()}},b.a.createElement(Wt,{icon:Gt.faRedo}),b.a.createElement(k.a,{s:"Retry WalletConnect"})))}}]),n}(b.a.Component),Xt=Object(g.e)(Object(h.c)((function(e){var t=e.exchange,n=e.dexAccount;return{chainId:t.chainId,dexAccount:n}}),(function(e){return{showSideBar:function(t){return e(Object(ae.z)(t))},connectToWalletConnect:function(t){return e(Object(Ce.c)(t))}}}))(Vt));function qt(){var e=Object(m.a)(["\n  color: ",";\n  font-size: 0.9rem !important;\n  font-weight: 400 !important;\n  text-transform: none !important;\n  background: transparent !important;\n  border: none;\n  margin-top: -12px !important;\n\n  &:hover {\n    color: "," !important;\n  }\n\n  &: [disabled] {\n    color: "," !important;\n  }\n"]);return qt=function(){return e},e}function Jt(){var e=Object(m.a)(["\n  font-size: 0.9rem;\n  margin: 32px;\n  color: ",";\n"]);return Jt=function(){return e},e}function Qt(){var e=Object(m.a)(["\n  padding-top: 32px;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n"]);return Qt=function(){return e},e}var $t=g.d.div(Qt()),Zt=g.d.div(Jt(),(function(e){return e.theme.textWhite})),en=Object(g.d)(d.a)(qt(),(function(e){return e.theme.primary}),(function(e){return e.theme.lightblue}),(function(e){return e.theme.textDim})),tn=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={buttonType:"UNKNOWN"},e.defaultButton=b.a.createElement(ft,{icon:ut.faSpinner,spin:!0,title:b.a.createElement("span",{style:{color:e.props.theme.textDim}},b.a.createElement(k.a,{s:"Loading..."})),color:e.props.theme.textDim,backgroundcolor:e.props.theme.sidePanelBackground}),e.pendingButtonJob=null,e.pendingButton={type:e.state.buttonType,button:e.defaultButton},e.getWalletAddress=function(){var t="";return"undefined"!==typeof e.props.dexAccount.account&&"undefined"!==typeof e.props.dexAccount.account.address&&window.wallet&&(t=(t=e.props.dexAccount.account.address).substring(0,7)+"..."+t.slice(-7)),t},e.showConnectToWalletModal=function(){e.props.showConnectToWalletModal(!0),e.props.showSideBar(!1)},e.showRegisterAccountModal=function(){e.props.registerAccountModal(!0),e.props.showSideBar(!1)},e.pressedExportAccountButton=function(){e.props.showExportAccountModal(!0),e.props.showSideBar(!1)},e.pressedLogoutButton=function(){e.props.showLogoutModal(!0),e.props.showSideBar(!1)},e.pressedDepositButton=function(){e.props.showDepositModal(!0),e.props.showSideBar(!1)},e.pressedWithdrawButton=function(){e.props.showWithdrawModal(!0),e.props.showSideBar(!1)},e.pressedTransferButton=function(){e.props.showTransferModal(!0),e.props.showSideBar(!1)},e.pressedResetPasswordButton=function(){e.props.resetPasswordModal(!0),e.props.showSideBar(!1)},e.pressedResetApiKeyButton=function(){e.props.showResetApiKeyModal(!0),e.props.showSideBar(!1)},e.pressedReferralButton=function(){e.props.showReferralModal(!0),e.props.showSideBar(!1)},e.showSideBar=function(){et.a.destroy(),e.props.showSideBar(!0)},e}return Object(s.a)(n,[{key:"updateAccountStateInRedux",value:function(e){var t=this.props,n=t.dexAccount,r=t.updateAccount,a=n.account;r(Object(ne.a)(Object(ne.a)({},a),{},{state:e}))}},{key:"scheduleButtonUpdate",value:function(e){var t=this;this.pendingButton.type!==e.type&&(this.pendingButton=e,clearTimeout(this.pendingButtonJob),this.pendingButtonJob=setTimeout((function(){t.setState({buttonType:e.type}),t.checkConnectWalletModal()}),e.timeout||1500))}},{key:"checkConnectWalletModal",value:function(){var e=this;setTimeout((function(){var t=e.props.dexAccount.account;e.props.pathname.startsWith("/invite/")&&(t.state===J.k||t.state===J.i?e.showConnectToWalletModal():t.state===J.e?e.showRegisterAccountModal():(E.b.push("/trade"),Object(ke.c)(b.a.createElement("span",null,b.a.createElement(k.a,{s:"AccountHasRegisteredInInviteLink"})),e.props.theme)))}),3e3)}},{key:"createButtonAndDrawer",value:function(e){var t=this;return b.a.createElement("div",null,e.button(),e.drawerContent?b.a.createElement(Nt,{header:e.drawerHeader(),body:e.drawerContent(),footer:e.drawerFooter?e.drawerFooter():b.a.createElement("div",null),onClose:function(){return t.props.showSideBar(!1)},visible:this.props.isSideBarVisible}):b.a.createElement("span",null))}},{key:"render",value:function(){var e=this,t=this.props.dexAccount.account,n=!0;if(this.props.exchange.isInitialized&&window.ethereum&&(window.ethereum.networkVersion&&this.props.exchange.chainId!==Number(window.ethereum.networkVersion)&&(n=!1),window.ethereum.networkId&&this.props.exchange.chainId!==Number(window.ethereum.chainId)&&(n=!1)),t.state===J.k||t.state===J.i)this.scheduleButtonUpdate({type:"WALLET_UNCONNECTED",timeout:3e3,button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,icon:lt.faPlug,title:b.a.createElement(k.a,{s:"Connect Wallet"}),backgroundcolor:e.props.theme.primary,color:e.props.theme.textBigButton})},drawerHeader:function(){return b.a.createElement(ft,{icon:lt.faPlug,title:b.a.createElement(k.a,{s:"Connect Wallet"}),backgroundcolor:e.props.theme.background,color:e.props.theme.textWhite})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:e.props.theme.primary},size:"3x",icon:lt.faPlug}),b.a.createElement(Zt,null,b.a.createElement(k.a,{s:"ConnectToWeb3Tip"})),b.a.createElement("div",{style:{margin:"16px"}},b.a.createElement(Ze.a,{onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Connect Wallet"})))),b.a.createElement(_t,null))}});else if(n)switch(t.state){case J.k:break;case J.h:this.scheduleButtonUpdate({type:"RESETTING",button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,spin:!0,icon:rt.faCircleNotch,color:e.props.theme.primary,backgroundcolor:e.props.theme.sidePanelBackground,title:b.a.createElement(k.a,{s:"Resetting Account Key..."})})},drawerHeader:function(){return b.a.createElement(Ot,{fullAddress:e.props.dexAccount.account.address,address:e.getWalletAddress()})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:e.props.theme.primary},spin:!0,size:"3x",icon:rt.faCircleNotch}),b.a.createElement(Zt,null,b.a.createElement(k.a,{s:"AccountKeyResetNotification"})," ",b.a.createElement(ht.a,{text:"StatusProcessing"})),b.a.createElement("div",{style:{margin:"16px"}},b.a.createElement(Ze.a,{buttonbackground:e.props.theme.primary,onClick:e.pressedDepositButton},b.a.createElement(k.a,{s:"Deposit"})),b.a.createElement(en,{style:{marginTop:"16px"},onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Switch Wallet"})))),b.a.createElement(Xt,null),b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuMyDexAccount"})),b.a.createElement(Tt,{key:"deposit",onClick:e.pressedDepositButton},b.a.createElement(Wt,{icon:tt.faArrowAltCircleDown}),b.a.createElement(k.a,{s:"Deposit"})),b.a.createElement(_t,null))}});break;case J.e:this.scheduleButtonUpdate({type:"NOT_REGISTERED",button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,icon:pt.faUserCircle,color:e.props.theme.textBigButton,backgroundcolor:e.props.theme.primary,title:e.getWalletAddress()})},drawerHeader:function(){return b.a.createElement(Ot,{fullAddress:e.props.dexAccount.account.address,address:e.getWalletAddress()})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:e.props.theme.primary},size:"3x",icon:pt.faUserCircle}),b.a.createElement(Zt,null,b.a.createElement(k.a,{s:"NoAccountTooltip"})),b.a.createElement("div",{style:{margin:"16px"}},b.a.createElement(Ze.a,{onClick:function(){return e.showRegisterAccountModal()}},b.a.createElement(k.a,{s:"Register Account"})),b.a.createElement(en,{style:{marginTop:"16px"},onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Switch Wallet"})))),b.a.createElement(Xt,null),b.a.createElement(_t,null))}});break;case J.g:this.scheduleButtonUpdate({type:"REGISTERING",button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,icon:rt.faCircleNotch,spin:!0,title:b.a.createElement(k.a,{s:"Registering Account..."}),color:e.props.theme.primary,backgroundcolor:e.props.theme.sidePanelBackground})},drawerHeader:function(){return b.a.createElement(Ot,{fullAddress:e.props.dexAccount.account.address,address:e.getWalletAddress()})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:e.props.theme.primary},spin:!0,size:"3x",icon:rt.faCircleNotch}),b.a.createElement(Zt,null,b.a.createElement(k.a,{s:"AccountBeingRegisteredNotification"})," ",b.a.createElement(ht.a,{text:"StatusProcessing"})),b.a.createElement("div",{style:{margin:"16px"}},b.a.createElement(Ze.a,{buttonbackground:e.props.theme.primary,onClick:e.pressedDepositButton},b.a.createElement(k.a,{s:"Deposit"})),b.a.createElement(en,{style:{marginTop:"16px"},onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Switch Wallet"})))),b.a.createElement(Xt,null),b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuMyDexAccount"})),b.a.createElement(Tt,{key:"deposit",onClick:e.pressedDepositButton},b.a.createElement(Wt,{icon:tt.faArrowAltCircleDown}),b.a.createElement(k.a,{s:"Deposit"})),b.a.createElement(_t,null))}});break;case J.f:this.scheduleButtonUpdate({type:"REGISTERED",button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,icon:it.faLock,title:e.getWalletAddress(),color:e.props.theme.red,backgroundcolor:e.props.theme.sidePanelBackground})},drawerHeader:function(){return b.a.createElement(Ot,{fullAddress:e.props.dexAccount.account.address,address:e.getWalletAddress()})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:e.props.theme.red},size:"3x",icon:it.faLock}),b.a.createElement(Zt,null,b.a.createElement(k.a,{s:"NeedLoginTooltip"})),b.a.createElement("div",{style:{margin:"16px"}},b.a.createElement(Ze.a,{onClick:function(){e.props.showLoginModal(!0),e.props.showSideBar(!1)}},b.a.createElement(k.a,{s:"Login"})),b.a.createElement(en,{style:{marginTop:"16px"},onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Switch Wallet"})))),b.a.createElement(Xt,null),b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuMyDexAccount"})),b.a.createElement(Tt,{key:"reset",onClick:function(){return e.pressedResetPasswordButton()}},b.a.createElement(Wt,{icon:ct.faKey}),b.a.createElement(k.a,{s:"Reset Account Key"})),b.a.createElement(Tt,{key:"reset",onClick:function(){return e.pressedResetApiKeyButton()}},b.a.createElement(Wt,{icon:ct.faKey}),b.a.createElement(k.a,{s:"Reset API Key"})),b.a.createElement(_t,null))}});break;case J.c:var r=!1;this.props.dexAccount.account.tags&&this.props.dexAccount.account.tags.includes("super_vip")&&(r=!0);var a=r?this.props.theme.orange:this.props.theme.primary,o=r?ot.faCrown:st.faLockOpen,c=r?b.a.createElement("div",{style:{color:this.props.theme.orange,fontSize:"0.75rem",paddingTop:"4px",fontWeight:"600",userSelect:"none"}},b.a.createElement(k.a,{s:"HonorVip"})):b.a.createElement("span",null);this.scheduleButtonUpdate({type:"LOGGED_IN",button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,icon:o,title:e.getWalletAddress(),color:e.props.theme.primary,backgroundcolor:e.props.theme.sidePanelBackground})},drawerHeader:function(){return b.a.createElement(Ot,{fullAddress:e.props.dexAccount.account.address,address:e.getWalletAddress()})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:a},size:"3x",icon:o}),c,b.a.createElement(Zt,null,b.a.createElement(k.a,{s:"YouHaveLoggedInTooltip"})),b.a.createElement("div",{style:{margin:"12px"}},b.a.createElement(Ze.a,{buttonbackground:e.props.theme.red,onClick:function(){return e.props.showLogoutModal(!0)}},b.a.createElement(k.a,{s:"Logout"})),b.a.createElement(en,{style:{marginTop:"16px"},onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Switch Wallet"})))),b.a.createElement(Xt,null),b.a.createElement(St,null),b.a.createElement(Bt,null,b.a.createElement(k.a,{s:"MenuMyDexAccount"})),b.a.createElement(Tt,{key:"transfer",onClick:e.pressedTransferButton},b.a.createElement(Wt,{icon:nt.faArrowAltCircleUp}),b.a.createElement(k.a,{s:"Transfer"})),b.a.createElement(Tt,{key:"deposit",onClick:e.pressedDepositButton},b.a.createElement(Wt,{icon:tt.faArrowAltCircleDown}),b.a.createElement(k.a,{s:"Deposit"})),b.a.createElement(Tt,{key:"withdraw",onClick:e.pressedWithdrawButton},b.a.createElement(Wt,{icon:nt.faArrowAltCircleUp}),b.a.createElement(k.a,{s:"Withdraw"})),b.a.createElement(Tt,{key:"reset",onClick:function(){return e.pressedResetPasswordButton()}},b.a.createElement(Wt,{icon:ct.faKey}),b.a.createElement(k.a,{s:"Reset Account Key"})),b.a.createElement(Tt,{key:"reset",onClick:function(){return e.pressedResetApiKeyButton()}},b.a.createElement(Wt,{icon:ct.faKey}),b.a.createElement(k.a,{s:"Reset API Key"})),b.a.createElement(Tt,{key:"export",onClick:function(){return e.pressedExportAccountButton()}},b.a.createElement(Wt,{icon:at.faCode}),b.a.createElement(k.a,{s:"Export Account"})),b.a.createElement(Tt,{hoverbg:e.props.theme.orange,colortxt:e.props.theme.orange,key:"referral",onClick:function(){return e.pressedReferralButton()}},b.a.createElement(Wt,{icon:dt.faUserFriends}),b.a.createElement(k.a,{s:"Referral Program"})),b.a.createElement(_t,null))}});break;default:console.error("unhandled account state ",t.state)}else if(!1===n){var i=this.props.exchange.chainId,s="EthereumMainNet";4===i?s="EthereumRinkebyTestnet":5===i&&(s="EthereumG\xf6rliTestNet"),this.scheduleButtonUpdate({type:"WRONG_NETWORK",button:function(){return b.a.createElement(ft,{onMouseEnter:e.showSideBar,backgroundcolor:e.props.theme.red,color:e.props.theme.textBigButton,icon:mt.faWaveSquare,title:b.a.createElement(k.a,{s:"Wrong Network"})})},drawerHeader:function(){return b.a.createElement(ft,{backgroundcolor:e.props.theme.background,color:e.props.theme.red,icon:mt.faWaveSquare,title:b.a.createElement(k.a,{s:"Wrong Network"})})},drawerContent:function(){return b.a.createElement("div",null,b.a.createElement($t,null,b.a.createElement(C.a,{style:{color:e.props.theme.red},size:"3x",icon:mt.faWaveSquare}),b.a.createElement(Zt,null,b.a.createElement("span",null,b.a.createElement(k.a,{s:"UnsupportedNetworkWarning"}),b.a.createElement(k.a,{s:s}))),b.a.createElement("div",{style:{margin:"12px"}},b.a.createElement(Ze.a,{buttonbackground:e.props.theme.red,onClick:function(){return e.props.showLogoutModal(!0)}},b.a.createElement(k.a,{s:"Logout"})),b.a.createElement(en,{style:{marginTop:"16px"},onClick:function(){return e.showConnectToWalletModal()}},b.a.createElement(k.a,{s:"Switch Wallet"})))),b.a.createElement(_t,null))}})}return b.a.createElement("div",null,"UNKNOWN"===this.state.buttonType?this.defaultButton:this.createButtonAndDrawer(this.pendingButton))}}]),n}(b.a.Component),nn=Object(g.e)(Object(h.c)((function(e){return{pathname:e.router.location.pathname,dexAccount:e.dexAccount,exchange:e.exchange,isSideBarVisible:e.modalManager.isSideBarVisible}}),(function(e){return{showExportAccountModal:function(t){return e(Object(ae.u)(t))},showLogoutModal:function(t){return e(Object(ae.v)(t))},resetPasswordModal:function(t){return e(Object(ae.r)(t))},showResetApiKeyModal:function(t){return e(Object(ae.y)(t))},showReferralModal:function(t){return e(Object(ae.x)(t))},showDepositModal:function(t){return e(Object(ae.t)(t))},showTransferModal:function(t){return e(Object(ae.A)(t))},showWithdrawModal:function(t){return e(Object(ae.C)(t))},registerAccountModal:function(t){return e(Object(ae.q)(t))},showLoginModal:function(t){return e(Object(ae.p)(t))},updateAccount:function(t){return e(Object(J.o)(t))},showSideBar:function(t){return e(Object(ae.z)(t))},showConnectToWalletModal:function(t){return e(Object(ae.s)(t))}}}))(tn)),rn=n(679);function an(){var e=Object(m.a)(["\n  && {\n    color: ","!important;\n    background: ","!important;\n  }\n"]);return an=function(){return e},e}function on(){var e=Object(m.a)(["\n  && {\n    padding-left: 8px !important;\n    padding-right: 8px !important;\n    font-size: 1.2rem !important;\n    font-weight: 600 !important;\n    background-color: transparent !important;\n    height: ","!important;\n    color: ",";\n    border: none !important;\n    border-radius: 0 !important;\n    border-bottom-style: solid !important;\n    border-bottom-width: 3px !important;\n    border-bottom-color: ",";\n  }\n  &:hover {\n    color: ","!important;\n  }\n\n  &[disabled],\n  &[disabled]:hover {\n    color: ","!important;\n  }\n"]);return on=function(){return e},e}Object(g.d)(d.a)(on(),y.a.topNavBarHeight,(function(e){return 1===e.active?e.theme.textBright:e.theme.textWhite}),(function(e){return 1===e.active?e.theme.primary+"!important":"transparent!important"}),(function(e){return e.theme.textBright}),(function(e){return e.theme.textDim}));var cn=Object(g.d)(p.a)(an(),(function(e){return e.theme.textDim}),(function(e){return e.theme.background})),sn=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,e,r)).mainFunctionToCallAPI=function(){Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.props.fetchCmcPrice(a.props.cmcPrice.legal)}catch(t){}case 1:case"end":return e.stop()}}),e)})))()},a.pushToTradePage=function(){var e=Object(re.f)();if(e&&a.props.markets.filter((function(t){return t.enabled&&t.market===e})).length>0)return void E.b.push("/trade/"+e);E.b.push("/trade/"+a.props.currentMarket)},a.state={lastTradePage:Object(re.f)()},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllExchangeInfo(),this.mainFunctionToCallAPI()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.pathname&&"/invite"===this.props.pathname)return Object(ke.a)(b.a.createElement("span",null,b.a.createElement(k.a,{s:"IsNotInviteLink"})),this.props.theme),void E.b.push("/404")}},{key:"render",value:function(){var e=this,t=this.props.theme;this.props.dexAccount.account,this.props.pathname.includes("/trade/")||this.props.pathname.includes("/invite"),this.props.pathname.includes("/document/")||this.props.pathname.includes("/legal/")||this.props.pathname.includes("/support/");return b.a.createElement("div",null,b.a.createElement("div",{className:"bg-ellipses bg-primary-curved"},b.a.createElement("nav",{className:"navbar border-0"},b.a.createElement("div",{className:"container justify-content-between px-0 px-lg-3"},b.a.createElement("div",{className:"col-auto d-flex align-items-center pl-0"},b.a.createElement("a",{className:"navbar-brand mr-auto d-flex align-items-center",href:""},b.a.createElement("img",{src:"assets/images/logo.svg",alt:"...",className:"navbar-brand-img"}),b.a.createElement("span",{className:"text-white ml-2 h2 mb-0"},"Loopring ",b.a.createElement("span",{className:"badge badge-soft-white text-dark align-top"},"Pay")))),b.a.createElement("div",{className:"col-auto ml-auto pr-0"},b.a.createElement(nn,null)))),b.a.createElement(rn.a,null)),b.a.createElement(r.a,null,b.a.createElement("div",{className:"desktop-layout",style:{borderTopStyle:"none",borderBottomStyle:"none"},ref:function(t){return e._settingsButtonElement=t}},b.a.createElement(De.a,{refer_id:this.state.refer_id}),b.a.createElement(ue.a,null),b.a.createElement(V.a,null),b.a.createElement(de.a,null),b.a.createElement(Le.a,null),b.a.createElement(Ke.a,null),b.a.createElement($e.a,null),b.a.createElement(je,null),b.a.createElement(We,null),b.a.createElement(Ie,null),b.a.createElement($,null),b.a.createElement(te,null),b.a.createElement(se,null),b.a.createElement(Qe,this.props),b.a.createElement(me.a,null),b.a.createElement(he.a,null),b.a.createElement(pe.a,null),b.a.createElement(F.a,null),b.a.createElement(G.a,null),b.a.createElement(le.a,null)),b.a.createElement("div",{className:"mobile-layout"},b.a.createElement(cn,{mode:"horizontal"},b.a.createElement(Ze.l,{key:"logo",style:{width:"calc(".concat(y.a.tradePanelWidth,")"),height:y.a.topNavBarHeight,background:t.background+"!important",borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:t.foreground}},b.a.createElement(Y,null))))))}}]),n}(b.a.Component);t.a=Object(g.e)(Object(h.c)((function(e){var t=e.router.location.pathname,n=e.dexAccount,r=e.cmcPrice,a=e.currentMarket,o=e.exchange;return{pathname:t,dexAccount:n,cmcPrice:r,currentMarket:a.current,markets:o.markets}}),(function(e){return{fetchCmcPrice:function(t){return e(Object(D.c)(t))},fetchAllExchangeInfo:function(){return e(Object(_.c)())}}}))(sn))},70:function(e,t,n){"use strict";function r(e,t){var n=e.account,r=t.account;return!(!n||!r||n.address!==r.address||n.state!==r.state||n.accountId!==r.accountId||n.isFreeze!==r.isFreeze||n.publicKeyX!==r.publicKeyX||n.publicKeyY!==r.publicKeyY||n.accountKey!==r.accountKey||n.apiKey!==r.apiKey)}function a(){var e=window.location.href;return!!(e.includes("trade")||e.includes("orders")||e.includes("account"))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},71:function(e,t,n){"use strict";n(226);var r=n(104),a=n(20),o=n(4),c=n(340),i=n(1),s=n(0),l=n.n(s);t.a=function(e){var t=e.text,n=e.color,u=e.description,p=Object(s.useContext)(o.a),d=l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(i.a,{s:t})),u&&l.a.createElement("div",{style:{paddingTop:"8px"}},l.a.createElement(i.a,{s:u})));return l.a.createElement(r.a,{placement:"bottom",title:d},l.a.createElement(a.a,{style:{color:n||p.primary,marginLeft:"8px",height:"11px",width:"11px"},icon:c.faQuestionCircle}))}},79:function(e,t,n){"use strict";var r=n(691),a=n(15),o=n(1),c=n(0),i=n.n(c),s=n(4);function l(){var e=Object(a.a)(["\n  text-align: center;\n  padding: 0;\n  color: ",";\n\n  > img {\n    @media (max-height: 200px) {\n      display: none;\n    }\n  }\n"]);return l=function(){return e},e}var u=s.d.div(l(),(function(e){return e.theme.textDim})),p=function(e){var t=e.text,n=Object(r.a)(e,["text"]),a=Object(c.useContext)(s.a);return n.loading?i.a.createElement("div",null):i.a.createElement(u,null,i.a.createElement("img",{style:{marginTop:n.marginTop,width:"68px",height:"auto",userSelect:"none",opacity:"1"},src:"assets/images/".concat(a.imgDir,"/no-data.svg"),alt:"No Data",draggable:"false"}),i.a.createElement("div",{style:{paddingTop:"2px",fontSize:"0.85rem",marginBottom:n.marginTop}},i.a.createElement(o.a,{s:t})))};p.defaultProps={marginTop:"10%",loading:!1},t.a=p},83:function(e,t,n){"use strict";n(111);var r=n(55),a=n(4),o=n(0),c=n.n(o);t.a=function(e){var t=e.children,n=e.loading,i=Object(o.useContext)(a.a);return c.a.createElement(r.a,{spinning:!!n,size:"large",indicator:c.a.createElement("img",{alt:"loading...",src:"assets/images/".concat(i.imgDir,"/bars.svg"),style:{marginTop:"100px",height:"40px",opacity:"1"}})},t)}},87:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(0),a=n.n(r),o=a.a.createContext(),c=function(e){return function(t){return a.a.createElement(o.Consumer,null,(function(n){return a.a.createElement(e,Object.assign({},t,{userPreferences:n}))}))}};t.a=o},871:function(e,t,n){},872:function(e,t,n){}}]);
//# sourceMappingURL=main~06837ae4.6f98e7ab.chunk.js.map